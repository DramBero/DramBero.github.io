(function(e){function t(t){for(var i,s,o=t[0],l=t[1],c=t[2],d=0,p=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&p.push(a[s][0]),a[s]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);u&&u(t);while(p.length)p.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],i=!0,o=1;o<n.length;o++){var l=n[o];0!==a[l]&&(i=!1)}i&&(r.splice(t--,1),e=s(s.s=n[0]))}return e}var i={},a={app:0},r=[];function s(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=i,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(n,i,function(t){return e[t]}.bind(null,i));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=l;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0949":function(e,t,n){e.exports=n.p+"img/altmer-m.0d1fbd74.png"},"0a2c":function(e,t,n){"use strict";n("c93e")},1051:function(e,t,n){},"10e0":function(e,t,n){e.exports=n.p+"img/breton-m.a9d80096.png"},"134b":function(e,t,n){"use strict";n("e0bc")},1463:function(e,t,n){"use strict";n("6dee")},"16b4":function(e,t,n){"use strict";n("224a")},"1b25":function(e,t,n){e.exports=n.p+"img/dunmer-m.569e2868.png"},2046:function(e,t,n){"use strict";n("5b6f")},2134:function(e,t,n){"use strict";n("fffd")},"21d1":function(e,t,n){"use strict";n("9582")},"224a":function(e,t,n){},"27b3":function(e,t,n){},"281c":function(e,t,n){"use strict";n("3331")},"282c":function(e,t,n){e.exports=n.p+"img/orc-f.893ea03d.png"},"2be0":function(e,t,n){},"2ee0":function(e,t,n){"use strict";n("27b3")},"30fe":function(e,t,n){e.exports=n.p+"img/argonian-f.613d86e8.png"},"317e":function(e,t,n){e.exports=n.p+"img/redguard-f.a8d435a8.png"},3331:function(e,t,n){},"3acb":function(e,t,n){e.exports=n.p+"img/bosmer-f.578e9a9d.png"},"401d":function(e,t,n){},4051:function(e,t,n){},"40a2":function(e,t,n){},"41b2":function(e,t,n){},"43e4":function(e,t,n){},4446:function(e,t,n){"use strict";n("1051")},"4f65":function(e,t,n){e.exports=n.p+"img/redguard-m.22e63d39.png"},5605:function(e,t,n){"use strict";n("9840")},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var i=n("2b0e"),a=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("modal-frame"),t("transition",{staticClass:"frame-dialogue",style:{width:"100%"},attrs:{name:"fadeHeight",mode:"out-in"}},[t("ModalMain",{directives:[{name:"show",rawName:"v-show",value:e.getOpenModalDialogue,expression:"getOpenModalDialogue"}],attrs:{modalHide:"hideDialogue",header:e.getOpenModalDialogue}},[t("ModalContentDialogue",{attrs:{speaker:e.getOpenModalDialogue}})],1)],1),t("CWorkspace")],1)},r=[],s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"text-reader__wrapper",class:{"text-reader__wrapper_dep":e.dep}},[t("label",{staticClass:"text-reader"},[t("input",{ref:"file",attrs:{type:"file",accept:".json"},on:{change:e.loadTextFromFile}}),e._v("\n    "+e._s(e.dep?"Load dependency":"Load active plugin")+"\n  ")]),e._v("\n  "+e._s(e.fileName)+"\n  "+e._s(e.fileSize)+"\n")])},o=[],l=(n("28a5"),n("7f7f"),{props:{dep:{type:String,required:!1,default:""}},data:function(){return{fileName:"",fileSize:null}},methods:{formatBytes:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(!+e)return"0 Bytes";var n=1024,i=t<0?0:t,a=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],r=Math.floor(Math.log(e)/Math.log(n));return"".concat(parseFloat((e/Math.pow(n,r)).toFixed(i))," ").concat(a[r])},loadTextFromFile:function(e){var t=this,n=e.target.files[0];this.fileName=e.target.files[0].name,this.dep||this.$store.commit("setActivePluginTitle",this.fileName.split(".")[0]),this.fileSize=this.formatBytes(e.target.files[0].size);var i=new FileReader;i.onprogress=function(e){},i.onload=function(e){t.dep?t.$store.dispatch("parseDependency",[JSON.parse(e.target.result),t.dep]):t.$store.dispatch("parseLocalPlugin",[JSON.parse(e.target.result)])},i.readAsText(n)}}}),c=l,u=(n("4446"),n("2877")),d=Object(u["a"])(c,s,o,!1,null,null,null),p=d.exports,f=function(){var e=this,t=e._self._c;return t("div",{staticClass:"journal-frame"},[t("div",{staticClass:"journal-frame__header"},[t("div",{staticClass:"frame-title"},[e._v("Journal")]),t("div",{staticClass:"journal-frame__controls"},[t("div",{staticClass:"add-quest",on:{click:function(t){return e.addQuest()}}},[e._v("\n      New "),t("icon",{staticClass:"add-quest__button",attrs:{name:"plus-circle",scale:"1"}})],1)])]),e.getJournal.length?t("div",{staticClass:"quests"},[t("transition-group",{style:{width:"100%"},attrs:{name:"fadeHeight",mode:"out-in"}},e._l(e.getJournal,(function(e){return t("JournalFrameQuest",{key:e.id||0,attrs:{quest:e}})})),1)],1):e._e()])},_=[],g=(n("55dd"),n("ac6a"),function(){var e=this,t=e._self._c;return t("div",{staticClass:"quest"},[t("div",{staticClass:"quest-title",on:{click:e.toggleCollapse}},[e._v("\n    "+e._s(e.quest.name)+"\n  ")]),t("div",{staticClass:"quest-id",on:{click:e.toggleCollapse}},[e._v("\n    "+e._s(e.quest.id)+"\n  ")]),e.quest.entries.length?t("collapse-transition",[t("div",{directives:[{name:"show",rawName:"v-show",value:e.isCollapsed,expression:"isCollapsed"}]},[t("transition-group",{style:{width:"100%"},attrs:{name:"fadeHeight",mode:"out-in"}},e._l(e.quest.entries.sort((function(e,t){return parseInt(e.data.disposition)-parseInt(t.data.disposition)})),(function(n){return t("div",{key:n.info_id},[e.entryEdit!=n.data.disposition?t("div",{staticClass:"entry-wrapper"},[t("div",{staticClass:"quest-entry",class:{"quest-entry_finished":n.quest_finish,"quest-entry_highlighted":e.getIsHighlighted(n.data.disposition)},attrs:{draggable:""}},[t("div",{staticClass:"quest-entry__text"},[e._v(e._s(n.text))]),t("div",{staticClass:"quest-entry__index"},[e._v("\n                "+e._s(n.data.disposition)+"\n              ")])]),t("button",{staticClass:"edit-button"},[t("icon",{staticClass:"edit-entry-controls__icon",attrs:{name:"pen",scale:"1"},on:{click:function(t){e.entryEdit=n.data.disposition}}})],1)]):t("div",[t("form",{staticClass:"edit",on:{submit:function(t){return t.preventDefault(),e.editEntry(t,n.info_id)}}},[t("div",{staticClass:"edit-entry"},[t("div",{staticClass:"edit-entry-above"},[t("textarea",{staticClass:"edit-entry-above__text",attrs:{name:"entryText",spellCheck:!0,lang:"en"},domProps:{textContent:e._s(n.text)}}),t("input",{staticClass:"edit-entry-above__disp",attrs:{placeholder:parseInt(n.data.disposition),name:"entryDisp",type:"number"},domProps:{value:parseInt(n.data.disposition)}})]),t("label",{staticClass:"edit-entry__checkbox"},[t("span",[e._v("Finished: ")]),t("input",{attrs:{type:"checkbox",title:"Finished",name:"entryFinished"},domProps:{checked:n.quest_finish}})])]),t("div",{staticClass:"edit-entry-controls"},[t("button",{attrs:{type:"submit"}},[t("icon",{staticClass:"edit-entry-controls__icon",attrs:{name:"save",scale:"1"}})],1),t("button",{on:{click:function(t){t.preventDefault(),e.entryEdit=""}}},[t("icon",{staticClass:"edit-entry-controls__icon",attrs:{name:"ban",scale:"1"}})],1),t("button",{on:{click:function(t){return t.preventDefault(),e.deleteEntry(n.info_id)}}},[t("icon",{staticClass:"edit-entry-controls__icon",attrs:{name:"trash",scale:"1"}})],1)])])])])})),0),t("div",{staticClass:"add-entry",on:{click:e.createEntry}},[e._v("+")])],1)]):t("div",{staticClass:"no-entries"},[e._v("\n    No entries yet. "),t("a",{staticClass:"link",on:{click:e.createEntry}},[e._v("Create?")])])],1)}),m=[],v=n("2909"),h=(n("6b54"),n("e1f6")),y=n("849c"),b=(n("d06d"),{props:{quest:Object},components:{CollapseTransition:h["CollapseTransition"],Icon:y["a"]},data:function(){return{isCollapsed:!1,highlightedComparison:"",highlightedId:"",entryEdit:""}},watch:{getHighlight:function(e){e.id===this.quest.id?(this.isCollapsed=!0,this.highlightedComparison=e.filter_comparison,this.highlightedId=e.value.Integer):(e.id&&(this.isCollapsed=!1),this.highlightedComparison="",this.highlightedId="")}},computed:{getHighlight:function(){return this.$store.getters["getJournalHighlight"]},getLatestDisposition:function(){return this.quest.entries.length&&this.quest.entries[0].data.disposition?(10*Math.floor(Math.max.apply(Math,Object(v["a"])(this.quest.entries.map((function(e){return parseInt(e.data.disposition)}))))/10+1)).toString():"10"}},methods:{editEntry:function(e,t){this.$store.commit("editJournalEntry",[t,e.target.elements.entryText.value,e.target.elements.entryDisp.value,e.target.elements.entryFinished.checked]),this.entryEdit=""},deleteEntry:function(e){this.entryEdit="",this.$store.commit("deleteJournalEntry",e)},toggleCollapse:function(){this.isCollapsed=!this.isCollapsed},getIsHighlighted:function(e){var t=parseInt(e),n=parseInt(this.highlightedId);switch(this.highlightedComparison){case"Equal":return t==n;case"GreaterEqual":return t>=n;case"LesserEqual":return t<=n;case"Less":return t<n;case"Greater":return t>n;case"NotEqual":return t!=n;default:return!1}},createEntry:function(){this.isCollapsed=!0,this.$store.commit("addJournalEntry",[this.quest.id,"New entry",this.getLatestDisposition])}}}),C=b,k=(n("21d1"),Object(u["a"])(C,g,m,!1,null,null,null)),P=k.exports,w={computed:{getJournal:function(){return this.$store.getters["getParsedQuests"]}},components:{JournalFrameQuest:P,Icon:y["a"]},methods:{addQuest:function(){this.$store.commit("setPrimaryModal","NewQuest")}}},T=w,M=(n("edab"),Object(u["a"])(T,f,_,!1,null,null,null)),O=M.exports,S=function(){var e=this,t=e._self._c;return t("button",{staticClass:"open-btn",on:{click:e.toggleOpenModal}},[t("icon",{attrs:{name:"folder-open",scale:"1.3"}})],1)},E=[],x={components:{Icon:y["a"]},methods:{toggleOpenModal:function(){this.$store.commit("setPrimaryModal","Upload")}}},j=x,N=(n("8eab"),Object(u["a"])(j,S,E,!1,null,null,null)),D=N.exports,q=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"window",class:{window_dialogue:e.dialogue}},[t("vue-draggable-resizable",{staticClass:"window-frame",attrs:{"prevent-deactivation":!0,"class-name-handle":"my-handle-class",w:1e3,h:600,minHeight:320,minWidth:550,"drag-handle":".drag-handle",parent:!0},on:{dragging:e.onDrag,resizing:e.onResize}},[t("div",{staticClass:"window-header drag-handle"},[t("div",{staticClass:"window-header__left"}),t("div",{staticClass:"window-header__name"},[e._v(e._s(e.header))]),t("div",{staticClass:"window-header__right"},[t("div",{staticClass:"window-header__close",on:{click:e.closeModal}},[t("icon",{attrs:{name:"times",scale:"1.3"}})],1)])]),t("div",{staticClass:"window__content"},[e._t("default")],2)])],1)])},F=[],I=n("fb19"),A=n.n(I),L={components:{Icon:y["a"],VueDraggableResizable:A.a},data:function(){return{width:0,height:0,x:0,y:0}},props:{modalHide:String,header:String,dialogue:Boolean},methods:{closeModal:function(){this.$store.commit(this.modalHide)},onResize:function(e,t,n,i){this.x=e,this.y=t,this.width=n,this.height=i},onDrag:function(e,t){this.x=e,this.y=t}}},$=L,J=(n("718a"),Object(u["a"])($,q,F,!1,null,null,null)),G=J.exports,H=function(){var e=this,t=e._self._c;return t("div",{staticClass:"book-frame"},e._l(e.getBooks,(function(e){return t("BookFrameItem",{key:e.id,attrs:{book:e}})})),1)},V=[],B=function(){var e=this,t=e._self._c;return t("div",{staticClass:"quest"},[t("div",{staticClass:"quest-title",on:{click:e.toggleCollapse}},[e._v("\n    "+e._s(e.book.name)+"\n  ")]),t("collapse-transition",[t("div",{directives:[{name:"show",rawName:"v-show",value:e.isCollapsed,expression:"isCollapsed"}]},[t("div",{staticClass:"quest-entry"},[t("div",{staticClass:"quest-entry__text",domProps:{innerHTML:e._s(e.book.text)}})])])])],1)},R=[],Q={props:{book:Object},components:{CollapseTransition:h["CollapseTransition"]},data:function(){return{isCollapsed:!1}},methods:{toggleCollapse:function(){this.isCollapsed=!this.isCollapsed}}},U=Q,W=(n("8e22"),Object(u["a"])(U,B,R,!1,null,null,null)),z=W.exports,K={computed:{getBooks:function(){return this.$store.getters["getBooks"]}},components:{BookFrameItem:z}},Y=K,Z=(n("0a2c"),Object(u["a"])(Y,H,V,!1,null,null,null)),X=Z.exports,ee=function(){var e=this,t=e._self._c;return t("div",{staticClass:"workspace"},[t("ToolBar"),t("CWorkspaceDesk")],1)},te=[],ne=function(){var e=this,t=e._self._c;return t("div",{staticClass:"workspace-desk"},[t("workspace-controls"),t("transition-group",{style:{display:"flex",width:"100%",height:"100%"},attrs:{name:"fadeSidebarr",mode:"out-in"}},[t("Sidebar",{directives:[{name:"show",rawName:"v-show",value:e.getSidebar,expression:"getSidebar"}],key:1}),t("DialogueFrame",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],key:2})],1)],1)},ie=[],ae=(n("6762"),n("2fdb"),function(){var e=this,t=e._self._c;return t("div",{staticClass:"frame"},[t("div",{staticClass:"frame-controls"},[t("div",{staticClass:"frame-controls-left"},[t("div",{staticClass:"frame-controls-types__type frame-controls-types__type_active",style:{gap:"10px"},on:{click:function(t){return e.addDialogue()}}},[e._v("\n          Add "),t("icon",{attrs:{name:"plus-circle",scale:"1"}})],1)]),e.getNPCs?t("div",{staticClass:"frame-controls-types"},[e.getSpeakerIdLength?t("div",{staticClass:"frame-controls-types__type",class:{"frame-controls-types__type_active":e.speakerTypes.includes("speaker_id")},on:{click:function(t){return e.toggleType("speaker_id")}}},[e._v("\n          Name "+e._s(e.getSpeakerIdLength)+"\n        ")]):e._e(),e.getSpeakerCellLength?t("div",{staticClass:"frame-controls-types__type",class:{"frame-controls-types__type_active":e.speakerTypes.includes("speaker_cell")},on:{click:function(t){return e.toggleType("speaker_cell")}}},[e._v("\n          Cell "+e._s(e.getSpeakerCellLength)+"\n        ")]):e._e(),e.getSpeakerFactionLength?t("div",{staticClass:"frame-controls-types__type",class:{"frame-controls-types__type_active":e.speakerTypes.includes("speaker_faction")},on:{click:function(t){return e.toggleType("speaker_faction")}}},[e._v("\n          Faction "+e._s(e.getSpeakerFactionLength)+"\n        ")]):e._e(),e.getSpeakerClassLength?t("div",{staticClass:"frame-controls-types__type",class:{"frame-controls-types__type_active":e.speakerTypes.includes("speaker_class")},on:{click:function(t){return e.toggleType("speaker_class")}}},[e._v("\n          Class "+e._s(e.getSpeakerClassLength)+"\n        ")]):e._e(),e.getSpeakerRaceLength?t("div",{staticClass:"frame-controls-types__type",class:{"frame-controls-types__type_active":e.speakerTypes.includes("speaker_rank")},on:{click:function(t){return e.toggleType("speaker_rank")}}},[e._v("\n          Race "+e._s(e.getSpeakerRaceLength)+"\n        ")]):e._e(),t("div",{staticClass:"frame-controls-types__type frame-controls-types__type_generic",on:{click:e.openGeneric}},[e._v("\n          Global\n        ")])]):e._e()]),t("div",{staticClass:"frame-dialogue__wrapper"},[t("transition-group",{staticClass:"frame-dialogue",style:{width:"100%"},attrs:{name:"fadeHeight",mode:"out-in"}},e._l(e.getNPCs,(function(e){return t("DialogueFrameCard",{key:e,attrs:{"speaker-id":e,type:"npc"}})})),1)],1)])}),re=[],se=function(){var e=this,t=e._self._c;return t("div",{staticClass:"dialogue-card",on:{click:e.openDialogueModal}},[t("span",{staticClass:"dialogue-card__name"},[e._v(e._s(e.getNpc.name||e.speakerId))]),e.getNpcFace?t("div",{staticClass:"dialogue-card__decoration"}):e._e(),e.getNpcFace?t("img",{staticClass:"dialogue-card__image",attrs:{src:e.getNpcFace?n("fc17")("./"+e.getNpcFace):"",alt:e.getNpc.name||e.speakerId}}):e._e()])},oe=[],le={props:{speakerType:{type:String},speakerId:{type:String}},computed:{getNpc:function(){return this.$store.getters["getNpcById"](this.speakerId)},getNpcFace:function(){var e=this.getNpc.npc_flags%2?"f":"m";switch(this.getNpc.race){case"Argonian":return"argonian-"+e+".png";case"High Elf":return"altmer-"+e+".png";case"Dark Elf":return"dunmer-"+e+".png";case"Breton":return"breton-"+e+".png";case"Wood Elf":return"bosmer-"+e+".png";case"Imperial":return"imperial-"+e+".png";case"Khajiit":return"khajiit-"+e+".png";case"Nord":return"nord-"+e+".png";case"Orc":return"orc-"+e+".png";case"Redguard":return"redguard-"+e+".png";default:return""}}},methods:{openDialogueModal:function(){this.$store.commit("setDialogueModal",this.speakerId)}}},ce=le,ue=(n("ddeb"),Object(u["a"])(ce,se,oe,!1,null,null,null)),de=ue.exports,pe={components:{Icon:y["a"],DialogueFrameCard:de},data:function(){return{speakerTypes:["speaker_id"]}},computed:{getNPCs:function(){return this.$store.getters["getDialogueSpeaker"](this.speakerTypes)},getSpeakerIdLength:function(){return this.$store.getters["getDialogueSpeaker"](["speaker_id"]).length||""},getSpeakerCellLength:function(){return this.$store.getters["getDialogueSpeaker"](["speaker_cell"]).length||""},getSpeakerFactionLength:function(){return this.$store.getters["getDialogueSpeaker"](["speaker_faction"]).length||""},getSpeakerClassLength:function(){return this.$store.getters["getDialogueSpeaker"](["speaker_class"]).length||""},getSpeakerRaceLength:function(){return this.$store.getters["getDialogueSpeaker"](["speaker_rank"]).length||""}},methods:{toggleType:function(e){this.speakerTypes.includes(e)?this.speakerTypes=this.speakerTypes.filter((function(t){return t!=e})):this.speakerTypes.push(e)},addDialogue:function(){this.$store.commit("setPrimaryModal","NewDialogue")},openGeneric:function(){this.$store.commit("setDialogueModal","Global Dialogue")}}},fe=pe,_e=(n("2046"),Object(u["a"])(fe,ae,re,!1,null,null,null)),ge=_e.exports,me=function(){var e=this,t=e._self._c;return t("div",{staticClass:"sidebar"},[t("JournalFrame",{directives:[{name:"show",rawName:"v-show",value:"Journal"===e.getSidebarActive,expression:"getSidebarActive === 'Journal'"}],key:4}),t("HeaderFrame",{directives:[{name:"show",rawName:"v-show",value:"Header"===e.getSidebarActive,expression:"getSidebarActive === 'Header'"}],key:5})],1)},ve=[],he=function(){var e=this,t=e._self._c;return t("div",{staticClass:"journal-frame"},[t("div",{staticClass:"journal-frame__header"},[t("div",{staticClass:"frame-title"},[e._v("Header")])]),t("div",{staticClass:"header-content"},[t("span",{staticClass:"modal-field__name"},[e._v(" Plugin name: ")]),t("div",{staticClass:"header-content__row"},[t("label",{staticClass:"modal-field modal-field_dark"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"modal-field__input",attrs:{name:"speaker-name",autocomplete:"off",placeholder:"Type plugin name"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})]),t("button",{staticClass:"modal-button modal-button_dark",class:{"modal-button_dark-active":"ESP"===e.file_type.toUpperCase()},on:{click:function(t){e.file_type="Esp"}}},[e._v("\n        ESP\n      ")]),t("button",{staticClass:"modal-button modal-button_dark",class:{"modal-button_dark-active":"ESM"===e.file_type.toUpperCase()},on:{click:function(t){e.file_type="Esm"}}},[e._v("\n        ESM\n      ")])]),t("div",{staticClass:"header-content__row"},[t("label",{staticClass:"modal-field modal-field_dark"},[t("span",{staticClass:"modal-field__name"},[e._v(" Version: ")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.version,expression:"version"}],staticClass:"modal-field__input",attrs:{name:"speaker-name",autocomplete:"off",placeholder:"Type version"},domProps:{value:e.version},on:{input:function(t){t.target.composing||(e.version=t.target.value)}}})]),t("label",{staticClass:"modal-field modal-field_dark"},[t("span",{staticClass:"modal-field__name"},[e._v(" Author: ")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.author,expression:"author"}],staticClass:"modal-field__input",attrs:{name:"speaker-name",autocomplete:"off",placeholder:"Type author"},domProps:{value:e.author},on:{input:function(t){t.target.composing||(e.author=t.target.value)}}})])]),t("label",{staticClass:"modal-field modal-field_dark"},[t("span",{staticClass:"modal-field__name"},[e._v(" Author: ")]),t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.description,expression:"description"}],staticClass:"modal-field__input modal-field__input_textarea",attrs:{name:"speaker-name",autocomplete:"off",placeholder:"Type description"},domProps:{value:e.description},on:{input:function(t){t.target.composing||(e.description=t.target.value)}}})])])])},ye=[],be={data:function(){return{name:"",version:"",file_type:"",author:"",description:"",dependencies:[]}},watch:{getActiveHeader:function(e){this.version=e.version,this.author=e.author,this.file_type=e.file_type,this.description=e.description},getActivePluginTitle:function(e){this.name=e}},computed:{getActiveHeader:function(){return this.$store.getters["getActiveHeader"]},getActivePluginTitle:function(){return this.$store.getters["getActivePluginTitle"]}},components:{Icon:y["a"]},methods:{addQuest:function(){this.$store.commit("setQuestCreateModal",!0)}}},Ce=be,ke=(n("281c"),Object(u["a"])(Ce,he,ye,!1,null,null,null)),Pe=ke.exports,we={components:{JournalFrame:O,HeaderFrame:Pe},computed:{getSidebarActive:function(){return this.$store.getters["getSidebarActive"]}}},Te=we,Me=(n("d47a"),Object(u["a"])(Te,me,ve,!1,null,null,null)),Oe=Me.exports,Se=function(){var e=this,t=e._self._c;return t("div",{staticClass:"workspace-controls"},[t("div",{staticClass:"workspace-controls__button",class:{"workspace-controls__button_active":"Journal"===e.getSidebarActive},on:{click:function(t){return e.toggleSidebarActive("Journal")}}},[t("icon",{staticClass:"icon-controls",attrs:{name:"book-open",scale:"2"}}),t("span",[e._v("Journal")])],1),t("div",{staticClass:"workspace-controls__button",class:{"workspace-controls__button_active":"Header"===e.getSidebarActive},on:{click:function(t){return e.toggleSidebarActive("Header")}}},[t("icon",{staticClass:"icon-controls",attrs:{name:"file-alt",scale:"2"}}),t("span",[e._v("Header")])],1),t("div",{staticClass:"workspace-controls__button workspace-controls__button_wip",attrs:{disabled:""}},[t("icon",{staticClass:"icon-controls",attrs:{name:"user",scale:"2"}}),t("span",[e._v("NPCs")])],1),t("div",{staticClass:"workspace-controls__button workspace-controls__button_wip",attrs:{disabled:""}},[t("icon",{staticClass:"icon-controls",attrs:{name:"users",scale:"2"}}),t("span",[e._v("Factions")])],1),t("div",{staticClass:"workspace-controls__button workspace-controls__button_wip",attrs:{disabled:""}},[t("icon",{staticClass:"icon-controls",attrs:{name:"book",scale:"2"}}),t("span",[e._v("Books")])],1),t("div",{staticClass:"workspace-controls__button workspace-controls__button_wip",attrs:{disabled:""}},[t("icon",{staticClass:"icon-controls",attrs:{name:"code",scale:"2"}}),t("span",[e._v("Scripts")])],1)])},Ee=[],xe={components:{Icon:y["a"]},methods:{toggleSidebarActive:function(e){this.$store.commit("toggleSidebarActive",e)}},computed:{getSidebarActive:function(){return this.$store.getters["getSidebarActive"]}}},je=xe,Ne=(n("6608"),Object(u["a"])(je,Se,Ee,!1,null,null,null)),De=Ne.exports,qe={components:{JournalFrame:O,DialogueFrame:ge,WorkspaceControls:De,Sidebar:Oe},computed:{getSidebar:function(){return""!==this.$store.getters["getSidebarActive"]}}},Fe=qe,Ie=(n("de42"),Object(u["a"])(Fe,ne,ie,!1,null,null,null)),Ae=Ie.exports,Le=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"toolbar"},[t("div",{staticClass:"file-controls"},[t("ToolBarOpen"),e.getTitle?t("ToolBarSave"):e._e()],1),e.getTitle?t("div",{staticClass:"header-controls"},[t("div",{staticClass:"header-controls__title"},[e._v("\n        "+e._s(e.getTitle)+"\n      ")]),t("div",{staticClass:"header-controls__info"})]):e._e()]),t("div",{staticClass:"pseudoheader"})])},$e=[],Je=function(){var e=this,t=e._self._c;return t("a",{staticClass:"open-btn",attrs:{href:e.getDownloadLink,download:e.getPluginTitle+".json"}},[t("icon",{attrs:{name:"save",scale:"1.3"}})],1)},Ge=[],He=n("3835"),Ve=(n("ffc1"),{components:{Icon:y["a"]},computed:{getPluginTitle:function(){return this.$store.getters["getActivePluginTitle"]},getPluginData:function(){return this.$store.getters["getActivePlugin"]&&this.$store.getters["getActivePlugin"].map((function(e){return Object.fromEntries(Object.entries(e).filter((function(e){var t=Object(He["a"])(e,1),n=t[0];return!n.includes("TMP_topic")&&!n.includes("TMP_type")&&!n.includes("old_values")})))}))},getDownloadLink:function(){return"data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(this.getPluginData))}},methods:{testPlugin:function(){}}}),Be=Ve,Re=(n("a372"),Object(u["a"])(Be,Je,Ge,!1,null,null,null)),Qe=Re.exports,Ue={components:{ToolBarOpen:D,ToolBarSave:Qe},computed:{getTitle:function(){return this.$store.getters["getActivePluginTitle"]}}},We=Ue,ze=(n("b38f"),Object(u["a"])(We,Le,$e,!1,null,null,null)),Ke=ze.exports,Ye={components:{ToolBar:Ke,CWorkspaceDesk:Ae}},Ze=Ye,Xe=(n("5605"),Object(u["a"])(Ze,ee,te,!1,null,null,null)),et=Xe.exports,tt=function(){var e=this,t=e._self._c;return t("div",{staticClass:"dialogue"},[t("div",{staticClass:"dialogue-answers"},[e.currentTopic?t("div",{staticClass:"dialogue-answers__header"},[e.editMode?t("div",{staticClass:"dialogue-answers__add",on:{click:e.addEntry}},[e._v("\n        Add entry\n      ")]):e._e(),e._v("\n      "+e._s(e.currentTopic)+"\n      "),t("div",{staticClass:"dialogue-answers__edit"},[e.editMode?t("div",[t("icon",{staticClass:"icon_gold",attrs:{name:"ban",color:"#E1FF00",scale:"1"},on:{click:function(t){e.editMode=!1,e.editedEntry=""}}})],1):t("icon",{staticClass:"icon_gold",attrs:{name:"pen",color:"#E1FF00",scale:"1"},on:{click:function(t){e.editMode=!0}}})],1)]):e._e(),t("div",[t("transition-group",{staticClass:"dialogue-answers__frame",style:{width:"100%"},attrs:{name:"fadeHeight",mode:"out-in"}},e._l(e.currentAnswers,(function(n){return t("div",{key:n.info_id,class:{"highlight-even":!e.editMode}},[e.editMode?e._e():t("div",{staticClass:"dialogue-answers-answer__above"}),e.editMode?t("div",{staticClass:"dialogue-answers-answer__above-add",on:{click:function(t){return e.addEntry([n.prev_id,n.info_id])}}},[e._v("+")]):e._e(),t("form",{staticClass:"dialogue-answers-answer-wrapper",on:{submit:function(t){return t.preventDefault(),e.editDialogue.apply(null,arguments)}}},[t("div",{staticClass:"dialogue-answers-answer",class:{"dialogue-answers-answer_modified":n.old_values&&n.old_values.length,"dialogue-answers-answer_edit":e.editMode}},[n.old_values&&n.old_values.length?t("div",{staticClass:"dialogue-answers-answer-modified"},[e._v("\n              * Modified in "+e._s(n.old_values.slice(-1)[0].TMP_dep)+"\n              "),e.checkDirtied(n.old_values.slice(-1)[0],n)?t("span",{staticClass:"dialogue-answers-answer-modified_dirty"},[e._v("\n                (possibly dirtied by CS)\n          ")]):e._e()]):e._e(),e._e(),t("DialogueEntryFilters",{attrs:{answer:n,speaker:e.speaker,editMode:e.editMode}}),e.editedEntry!==n.info_id?t("div",{staticClass:"dialogue-answers-answer__text",domProps:{innerHTML:e._s(e.getHyperlinkedAnswer(n.text))},on:{click:function(t){return e.handleAnswerClick(t)}}}):t("textarea",{staticClass:"dialogue-entry-textarea",attrs:{name:"entryText"},domProps:{textContent:e._s(n.text)}}),t("DialogueEntryResults",{attrs:{editMode:e.editMode,code:e.getLanguage(n.result,"Lua (MWSE)"),language:"Lua (MWSE)"}}),t("DialogueEntryResults",{attrs:{editMode:e.editMode,code:e.getLanguage(n.result,"MWScript"),language:"MWScript"}}),e._e()],1),e.editMode&&e.editedEntry!==n.info_id?t("icon",{staticClass:"icon_gold",attrs:{name:"pen",color:"#E1FF00",scale:"1"},on:{click:function(t){e.editedEntry=n.info_id}}}):e._e(),e.editMode&&e.editedEntry==n.info_id?t("div",{staticClass:"entry-edit-controls"},[t("button",{attrs:{type:"submit"}},[t("icon",{staticClass:"icon_gold",attrs:{name:"save",color:"#E1FF00",scale:"1"}})],1),t("icon",{staticClass:"icon_gold",attrs:{name:"ban",color:"#E1FF00",scale:"1"},on:{click:function(t){t.preventDefault(),e.editedEntry=""}}}),t("icon",{staticClass:"icon_gold",attrs:{name:"trash",color:"#E1FF00",scale:"1"},on:{click:function(t){return t.preventDefault(),e.deleteEntry(n.info_id)}}})],1):e._e()],1)])})),0),e.editMode?e._e():t("div",{staticClass:"dialogue-answers-answer__above dialogue-answers-answer__above_no-margin"}),e.editMode?t("div",{staticClass:"dialogue-answers-answer__above-add",on:{click:function(t){return e.addEntry()}}},[e._v("+")]):e._e()],1),e.getOrderedEntries.error_text?t("div",{staticClass:"dialogue-answers__error"},[e._v("\n      "+e._s(e.getOrderedEntries.error_text)+"\n    ")]):e._e()]),t("div",{staticClass:"dialogue-questions"},[e.getGreetings.length?t("div",{staticClass:"dialogue-questions__container"},e._l(e.getGreetings,(function(n,i){return t("div",{key:i,staticClass:"dialogue-questions__topic",on:{click:function(t){return e.setCurrentAnswers(n,"Greeting")}}},[e._v("\n        "+e._s(n)+"\n      ")])})),0):e._e(),e.getPersuasion.length?t("div",{staticClass:"dialogue-questions__container"},e._l(e.getPersuasion,(function(n,i){return t("div",{key:i,staticClass:"dialogue-questions__topic",on:{click:function(t){return e.setCurrentAnswers(n,"Persuasion")}}},[e._v("\n        "+e._s(n)+"\n      ")])})),0):e._e(),e._l(e.getTopics,(function(n,i){return t("div",{key:i,staticClass:"dialogue-questions__topic",on:{click:function(t){return e.setCurrentAnswers(n,"Topic")}}},[e._v("\n      "+e._s(n)+"\n    ")])}))],2)])},nt=[],it=(n("ac4d"),n("8a81"),n("1c4c"),n("a481"),n("5df3"),n("4f7f"),function(){var e=this,t=e._self._c;return e.code?t("div",[t("div",{staticClass:"results",class:{results_lua:"Lua (MWSE)"===e.language}},[t("span",{staticClass:"script-language",class:{"script-language_lua":"Lua (MWSE)"===e.language}},[e._v(e._s(e.language))]),t("prism-editor",{staticClass:"editor-code",attrs:{readonly:!e.editMode,wordwrap:!1,highlight:"Lua"===e.language?e.highlighterLua:e.highlighterBasic,lineNumbers:""},model:{value:e.luaCode,callback:function(t){e.luaCode=t},expression:"luaCode"}})],1)]):e._e()}),at=[],rt=n("e57a"),st=(n("cabf"),n("8c7a")),ot=(n("cb55"),n("6701"),n("416b"),{components:{PrismEditor:rt["a"]},props:{code:{type:String},language:{type:String},editMode:{type:Boolean}},data:function(){return{luaCode:""}},beforeMount:function(){this.luaCode=this.code},methods:{highlighterLua:function(e){return Object(st["highlight"])(e,st["languages"].lua)},highlighterBasic:function(e){return Object(st["highlight"])(e,st["languages"].javascript)}}}),lt=ot,ct=(n("80fa"),Object(u["a"])(lt,it,at,!1,null,null,null)),ut=ct.exports,dt=(n("8615"),function(){var e=this,t=e._self._c;return t("div",{staticClass:"dialogue-filters"},[e._l(e.getOtherSpeakers,(function(n){return t("div",{key:n.value+n.type,staticClass:"dialogue-filters__filter dialogue-filters__filter_speaker",attrs:{tabindex:"0"},on:{focus:function(t){return e.handleFilter(e.filter)},focusout:function(t){return e.handleFilter({})}}},[t("span",{staticClass:"filter__if"},[e._v("if ")]),t("span",{staticClass:"filter__function"},[e._v(e._s(n.type)+" ")]),t("span",{staticClass:"filter__comparison"},[e._v("== ")]),t("span",{staticClass:"filter__value"},[e._v(e._s(n.value))]),t("span",[e.editMode?t("icon",{staticClass:"filter__edit",attrs:{name:"pen",scale:"1"},on:{click:function(t){return t.stopPropagation(),e.editFilter({filter_comparison:"Equal",filter_type:n.type,value:{Integer:n.value}})}}}):e._e()],1)])})),e.answer.data.disposition>0?t("div",{key:"disposition",staticClass:"dialogue-filters__filter dialogue-filters__filter_disp",attrs:{tabindex:"0"},on:{focus:function(t){return e.handleFilter(e.filter)},focusout:function(t){return e.handleFilter({})}}},[t("span",{staticClass:"filter__if"},[e._v("if ")]),t("span",{staticClass:"filter__function"},[e._v("Disposition ")]),t("span",{staticClass:"filter__comparison"},[e._v("> ")]),t("span",{staticClass:"filter__value"},[e._v(e._s(e.answer.data.disposition))]),t("span",[e.editMode?t("icon",{staticClass:"filter__edit",attrs:{name:"pen",scale:"1"},on:{click:function(t){return t.stopPropagation(),e.editFilter({filter_comparison:"Greater",filter_type:"Disposition",value:{Integer:e.speakerType.value}})}}}):e._e()],1)]):e._e(),e._l(e.answer.filters,(function(n,i){return t("div",{key:i,staticClass:"dialogue-filters__filter",attrs:{tabindex:"0"},on:{focus:function(t){return e.handleFilter(n)},focusout:function(t){return e.handleFilter({})}}},[t("span",{staticClass:"filter__if"},[e._v("if ")]),t("span",{staticClass:"filter__function"},[e._v(e._s("Function"===n.filter_type?n.filter_function:n.filter_type)+" ")]),t("span",{staticClass:"filter__id"},[e._v(e._s(n.id)+" ")]),t("span",{staticClass:"filter__comparison"},[e._v(e._s(e.parseComparison(n.filter_comparison))+"\n    ")]),t("span",{staticClass:"filter__value"},[e._v(e._s(Object.values(n.value)[0]))]),t("span",[e.editMode?t("icon",{staticClass:"filter__edit",attrs:{name:"pen",scale:"1"},on:{click:function(t){return t.stopPropagation(),e.editFilter(n)}}}):e._e()],1)])})),e.editMode?t("icon",{staticClass:"icon_gray",attrs:{name:"plus-circle",scale:"1.5"},on:{click:function(t){return e.addFilter()}}}):e._e()],2)}),pt=[],ft={props:{answer:{type:Object},speaker:{type:String},editMode:{type:Boolean}},components:{Icon:y["a"]},computed:{getOtherSpeakers:function(){var e=this;return[{type:"Speaker ID",value:this.answer.speaker_id},{type:"Speaker Cell",value:this.answer.speaker_cell},{type:"Speaker Faction",value:this.answer.speaker_faction},{type:"Speaker Class",value:this.answer.speaker_class},{type:"Speaker Sex",value:"Any"!==this.answer.data.speaker_sex?this.answer.data.speaker_sex:""},{type:"Speaker Rank",value:-1!==this.answer.data.speaker_rank?this.answer.data.speaker_rank:""},{type:"Speaker Race",value:this.answer.speaker_rank},{type:"Player Rank",value:-1!==this.answer.data.player_rank?this.answer.data.player_rank:""},{type:"Player Faction",value:this.answer.player_faction}].filter((function(t){return t.value&&t.value!==e.speaker}))}},methods:{handleFilter:function(e){"JournalType"===e.filter_function?(this.$store.commit("setSidebarActive","Journal"),this.$store.commit("setJournalHighlight",e)):this.$store.commit("setJournalHighlight",{})},addFilter:function(){this.$store.commit("setSelectedFilter",{}),this.$store.commit("setPrimaryModal","NewFilter")},editFilter:function(e){this.$store.commit("setSelectedFilter",e),this.$store.commit("setPrimaryModal","NewFilter")},parseComparison:function(e){switch(e){case"Equal":return"==";case"GreaterEqual":return">=";case"LesserEqual":return"<=";case"Less":return"<";case"Greater":return">";case"NotEqual":return"!=";default:return e}}}},_t=ft,gt=(n("2134"),Object(u["a"])(_t,dt,pt,!1,null,null,null)),mt=gt.exports;function vt(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ht(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){o=!0,r=e},f:function(){try{s||null==n.return||n.return()}finally{if(o)throw r}}}}function ht(e,t){if(e){if("string"===typeof e)return yt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yt(e,t):void 0}}function yt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var bt={components:{Icon:y["a"],DialogueEntryResults:ut,DialogueEntryFilters:mt},props:{speaker:String},data:function(){return{currentTopic:"",editMode:!1,showDependencies:!1,editedEntry:"",topicType:""}},mounted:function(){this.editMode=!1},computed:{getTopics:function(){var e=Object(v["a"])(new Set(this.getSpeakerData("Topic")));return this.showDependencies||(e=e.filter((function(e){return!e.TMP_dep}))),Object(v["a"])(new Set(e.map((function(e){return e.TMP_topic}))))},getGreetings:function(){var e=Object(v["a"])(new Set(this.getSpeakerData("Greeting")));return this.showDependencies||(e=e.filter((function(e){return!e.TMP_dep}))),Object(v["a"])(new Set(e.map((function(e){return e.TMP_topic}))))},getPersuasion:function(){var e=Object(v["a"])(new Set(this.getSpeakerData("Persuasion")));return this.showDependencies||(e=e.filter((function(e){return!e.TMP_dep}))),Object(v["a"])(new Set(e.map((function(e){return e.TMP_topic}))))},getOrderedEntries:function(){return this.$store.getters["getOrderedEntriesByTopic"]([this.currentTopic,"Topic"])},currentAnswers:function(){var e,t=this;return e="Global Dialogue"!==this.speaker?this.getOrderedEntries.filter((function(e){return e.TMP_topic===t.currentTopic})).filter((function(e){return[e["speaker_id"],e["speaker_cell"],e["speaker_faction"],e["speaker_class"],e["speaker_rank"]].includes(t.speaker)})):this.getOrderedEntries.filter((function(e){return e.TMP_topic===t.currentTopic})).filter((function(e){return!e["speaker_id"]&&!e["speaker_cell"]&&!e["speaker_faction"]&&!e["speaker_class"]&&!e["speaker_rank"]})),this.showDependencies?e:e.filter((function(e){return!e.TMP_dep}))}},methods:{addEntry:function(e){this.currentTopic&&(e||(e=this.$store.getters["getBestOrderLocationForNpc"]([this.speaker,this.currentTopic,this.topicType])),this.$store.commit("addDialogue",[this.speaker,this.currentTopic,this.topicType,e[0],e[1],"New entry"]))},editDialogue:function(){this.$store.commit("editDialogueEntry",[this.editedEntry,event.target.elements.entryText.value]),this.editedEntry=""},setCurrentAnswers:function(e,t){this.topicType=t,this.currentTopic=e},deleteEntry:function(e){this.$store.commit("deleteDialogueEntry",e)},getSpeakerData:function(e){return this.$store.getters["getDialogueBySpeaker"]([this.speaker,e])},getLanguage:function(e,t){return e?"Lua (MWSE)"===t?e.split("\r\n").filter((function(e){return e.includes(";lua ")})).map((function(e){return e.replace(";lua ","")})).join("\r\n"):"MWScript"===t?e.split("\r\n").filter((function(e){return!e.includes(";lua ")})).join("\r\n"):void 0:""},checkDirtied:function(e,t){var n=Object.fromEntries(Object.entries(e).filter((function(e){var t=Object(He["a"])(e,1),n=t[0];return!n.includes("_id")&&!n.includes("TMP_")&&!n.includes("old_values")}))),i=Object.fromEntries(Object.entries(t).filter((function(e){var t=Object(He["a"])(e,1),n=t[0];return!n.includes("_id")&&!n.includes("TMP_")&&!n.includes("old_values")})));return JSON.stringify(n)===JSON.stringify(i)},handleAnswerClick:function(e){"dialogue-answers-answer__text_hyperlink"==e.target.className&&(this.setCurrentAnswers(e.target.innerText,"Topic"),this.currentTopic=e.target.innerText)},getHyperlinkedAnswer:function(e){var t,n=e,i=vt(this.getTopics);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.includes(a)&&(n=n.replace(a,'<span class="dialogue-answers-answer__text_hyperlink">'.concat(a,"</span>")))}}catch(r){i.e(r)}finally{i.f()}return n}},watch:{speaker:function(){this.setCurrentAnswers(["",""]),this.currentTopic=""}}},Ct=bt,kt=(n("2ee0"),Object(u["a"])(Ct,tt,nt,!1,null,null,null)),Pt=kt.exports,wt=function(){var e=this,t=e._self._c;return t("div",{staticClass:"modal"},[t("transition",{attrs:{name:"fade",appear:""}},[""!==e.triggerFade?t("div",{staticClass:"modal__overlay",attrs:{"data-custom-close":""},on:{mousedown:e.hideModals}},[t("transition",{attrs:{name:"slide",appear:""}},[""!==e.getModal?t("div",{staticClass:"modal__content",on:{mousedown:function(e){e.stopPropagation()}}},[t("div",{staticClass:"modal__content-wrapper"},[t("ModalContent"+e.modalType,{tag:"component"})],1)]):e._e()])],1):e._e()])],1)},Tt=[],Mt=(n("96cf"),n("1da1")),Ot=function(){var e=this,t=e._self._c;return t("div",{staticClass:"frame-upload"},[t("h2",{staticClass:"modal__title"},[e._v("Upload your plugin and its masters")]),t("ToolbarReadFile"),t("div",{staticClass:"frame-upload-deps"},[e.getDependencies&&e.getDependencies.length>0?t("div",{staticClass:"frame-upload-deps__title"},[e._v("Requires:")]):e._e(),e._l(e.getDependencies,(function(n){return t("div",{key:n,staticClass:"frame-upload-deps__element"},[e._v("\n      "+e._s(n)+" "),t("ToolbarReadFile",{attrs:{dep:n}})],1)}))],2)],1)},St=[],Et={components:{ToolbarReadFile:p},computed:{getDependencies:function(){if(this.$store.getters["getActiveHeader"])return this.$store.getters["getActiveHeader"].masters.map((function(e){return e[0]}))}}},xt=Et,jt=(n("16b4"),Object(u["a"])(xt,Ot,St,!1,null,null,null)),Nt=jt.exports,Dt=function(){var e=this,t=e._self._c;return t("div",{staticClass:"frame-upload"},[t("h2",{staticClass:"modal__title"},[e._v("Create a new journal quest")]),t("div",{staticClass:"modal-tip"},[e._v("Tip: to create a new journal line inside the same quest - just set the name same as the previous line and change the ID.")]),t("form",{staticClass:"add-quest-form",on:{submit:function(t){return t.preventDefault(),e.createQuest()}}},[t("label",{staticClass:"modal-field"},[e.nameError?t("span",{key:e.index,staticClass:"error"},[e._v(e._s(e.nameError))]):e._e(),t("input",{directives:[{name:"model",rawName:"v-model",value:e.inputName,expression:"inputName"}],staticClass:"modal-field__input",attrs:{name:"quest-name",placeholder:"Quest name"},domProps:{value:e.inputName},on:{input:function(t){t.target.composing||(e.inputName=t.target.value)}}})]),t("label",{staticClass:"modal-field"},[e.idError?t("span",{key:e.index,staticClass:"error"},[e._v(e._s(e.idError))]):e._e(),t("input",{directives:[{name:"model",rawName:"v-model",value:e.inputId,expression:"inputId"}],staticClass:"modal-field__input",attrs:{name:"quest-id",placeholder:"Quest ID",required:""},domProps:{value:e.inputId},on:{input:function(t){t.target.composing||(e.inputId=t.target.value)}}})]),t("button",{staticClass:"modal-button",attrs:{type:"submit"}},[e._v("Create")])])])},qt=[],Ft={data:function(){return{nameError:"",idError:"",inputName:"",inputId:""}},methods:{createQuest:function(){this.$store.commit("addJournalQuest",[this.inputId,this.inputName]),this.$store.commit("setPrimaryModal","")}},computed:{}},It=Ft,At=(n("96ab"),Object(u["a"])(It,Dt,qt,!1,null,null,null)),Lt=At.exports,$t=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"frame-upload"},[t("h2",{staticClass:"modal__title"},[e._v("Create a new dialogue")]),t("form",{staticClass:"add-dialogue-form",on:{submit:function(e){e.preventDefault()}}},[e.speakerName?t("div",[t("div",{staticClass:"add-dialogue-label"},[e._v("\n          "+e._s("Add topic to: ")+"\n          "),t("span",{staticClass:"speaker-name"},[e._v(e._s(e.speakerName)+".")]),t("a",{staticClass:"speaker-change",on:{click:function(t){e.speakerId="",e.speakerName=""}}},[e._v(e._s(" Change?"))])]),t("div",{staticClass:"topic-create-controls"},[t("label",{staticClass:"modal-field"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.inputTopic,expression:"inputTopic"}],staticClass:"modal-field__input",attrs:{name:"dialogue-topic",placeholder:"Type the topic",autocomplete:"off",required:""},domProps:{value:e.inputTopic},on:{input:function(t){t.target.composing||(e.inputTopic=t.target.value)}}})]),t("button",{staticClass:"modal-button",attrs:{type:"submit",disabled:!e.inputTopic},on:{click:function(t){return e.createTopic()}}},[e._v("Create")])]),t("div",{staticClass:"found-names"},e._l(e.getTopics,(function(n){return t("div",{key:n.id,staticClass:"found-names-name",class:{"found-names-name_active":!n.TMP_dep},on:{click:function(t){e.inputTopic=n.id}}},[e._v("\n            "+e._s(n.id)+"\n            ")])})),0)]):t("div",[t("div",{staticClass:"add-dialogue-label"},[e._v("Choose an NPC:")]),t("label",{staticClass:"modal-field"},[e.nameError?t("span",{key:e.index,staticClass:"error"},[e._v(e._s(e.nameError))]):e._e(),t("input",{directives:[{name:"model",rawName:"v-model",value:e.inputName,expression:"inputName"}],staticClass:"modal-field__input",attrs:{name:"speaker-name",autocomplete:"off",placeholder:"Type NPC name or ID"},domProps:{value:e.inputName},on:{input:function(t){t.target.composing||(e.inputName=t.target.value)}}})]),t("div",{staticClass:"found-names"},e._l(e.getNpcs,(function(n){return t("div",{key:n.id,staticClass:"found-names-name",class:{"found-names-name_active":!n.TMP_dep},on:{click:function(t){e.speakerId=n.id,e.speakerName=n.name}}},[t("div",{staticClass:"found-names-name__title"},[e._v(e._s(n.name))]),t("div",{staticClass:"found-names-name__id"},[e._v(e._s(n.id))])])})),0)])])])])},Jt=[],Gt={data:function(){return{nameError:"",idError:"",inputName:"",inputTopic:"",speakerName:"",speakerId:"",dialogueType:"Topic"}},watch:{inputName:function(){this.debounce((function(){this.getNpcs}),1e3)},inputTopic:function(){this.debounce((function(){this.getTopics}),1e3)}},methods:{debounce:function(e,t){var n=null;return function(){clearTimeout(n);var i=arguments,a=this;n=setTimeout((function(){e.apply(a,i)}),t)}},createTopic:function(){if(this.inputTopic){var e=this.$store.getters["getBestOrderLocationForNpc"]([this.speakerId,this.inputTopic,this.dialogueType]);this.$store.commit("addDialogue",[this.speakerId,this.inputTopic,this.dialogueType,e[0],e[1],"New entry"]),this.$store.commit("setPrimaryModal",""),this.$store.commit("setDialogueModal",this.speakerId)}}},computed:{getNpcs:function(){return this.inputName?this.$store.getters["searchNpcs"](this.inputName):[]},getTopics:function(){return this.inputTopic?this.$store.getters["searchTopics"](this.inputTopic):[]}}},Ht=Gt,Vt=(n("1463"),Object(u["a"])(Ht,$t,Jt,!1,null,null,null)),Bt=Vt.exports,Rt=function(){var e=this,t=e._self._c;return t("div",{staticClass:"frame-upload"},[t("h2",{staticClass:"modal__title"},[e._v("Dialogue requirement")]),t("div",{staticClass:"filter-constructor"},[t("div",{staticClass:"filter-constructor-start",class:{"filter-constructor-start_rounded":""!==e.currentValue}},[t("span",{staticClass:"filter__if"},[e._v("if ")]),e.currentFilter.name?t("span",{staticClass:"filter__function filter-editable",on:{click:function(t){e.editable="name"}}},[e._v(e._s("Function"===e.currentFilter.name?e.currentFilter.filter_function:e.currentFilter.name)+"\n      ")]):e._e(),e.currentValueSecondary&&e.currentFilter.fields.length>1?t("span",{staticClass:"filter__value filter-editable",on:{click:function(t){e.editable="value-secondary"}}},[e._v("\n        "+e._s(e.currentValueSecondary)+"\n      ")]):e._e(),e.currentOperand?t("span",{staticClass:"filter__operand filter-editable",on:{click:function(t){e.editable="operand"}}},[e._v("\n        "+e._s(e.parseComparison(e.currentOperand))+"\n      ")]):e._e(),""!==e.currentValue?t("span",{staticClass:"filter__value filter-editable",on:{click:function(t){e.editable="value"}}},[e._v("\n        "+e._s(e.currentValue)+"\n      ")]):e._e()]),e.currentFilter.name?e._e():t("div",{staticClass:"filter-constructor-middle filter-constructor-middle_long"},[t("span",{staticClass:"filter__function"},[e._v(" ... ")])]),e.currentFilter.fields&&e.currentFilter.fields.length>1&&!e.currentValueSecondary?t("div",{staticClass:"filter-constructor-middle filter-constructor-middle_long"},[t("span",{staticClass:"filter__subvalue"},[e._v(" ... ")])]):e._e(),e.currentOperand?e._e():t("div",{staticClass:"filter-constructor-middle"},[t("span",{staticClass:"filter__operand"},[e._v(" ? ")])]),""===e.currentValue?t("div",{staticClass:"filter-constructor-end"},[t("span",{staticClass:"filter__value"},[e._v(" ... ")])]):e._e()]),t("div",{staticClass:"filter-editor"},[e.currentFilter.id&&"name"!==e.editable?e.currentFilter.fields.length>1&&!e.currentValueSecondary||"value-secondary"===e.editable?t("div",{staticClass:"value-select"},[t("div",{staticClass:"input-area"},[t("label",{staticClass:"modal-field"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.inputValueSecondary,expression:"inputValueSecondary"}],staticClass:"modal-field__input",attrs:{name:"dialogue-topic",placeholder:"Type the value",autocomplete:"off",required:""},domProps:{value:e.inputValueSecondary},on:{input:function(t){t.target.composing||(e.inputValueSecondary=t.target.value)}}})]),t("button",{staticClass:"modal-button",attrs:{type:"submit",disabled:!e.inputValueSecondary},on:{click:function(t){e.currentValueSecondary=e.inputValueSecondary,e.editable=""}}},[e._v("\n        Save\n      ")])])]):e.currentOperand&&"operand"!==e.editable?""===e.currentValue||"value"===e.editable?t("div",{staticClass:"value-select"},[t("div",{staticClass:"input-area"},[t("label",{staticClass:"modal-field"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.inputValue,expression:"inputValue"}],staticClass:"modal-field__input",attrs:{name:"dialogue-topic",placeholder:"Type the value",autocomplete:"off",required:""},domProps:{value:e.inputValue},on:{input:function(t){t.target.composing||(e.inputValue=t.target.value)}}})]),t("button",{staticClass:"modal-button",attrs:{type:"submit",disabled:!e.inputValue},on:{click:function(t){e.currentValue=e.inputValue,e.editable=""}}},[e._v("\n        Save\n      ")])]),"npc"===e.currentFilter.fields.slice(-1)[0]?t("div",{staticClass:"found-names"},e._l(e.getNpcs,(function(n){return t("div",{key:n.id,staticClass:"found-names-name",class:{"found-names-name_active":!n.TMP_dep},on:{click:function(t){e.inputValue=n.id}}},[t("div",{staticClass:"found-names-name__title"},[e._v(e._s(n.name))]),t("div",{staticClass:"found-names-name__id"},[e._v(e._s(n.id))])])})),0):e._e()]):e._e():t("div",{staticClass:"operand-select"},[e._v("\n      Select an operand:\n      "),e._l(e.currentFilter.operands,(function(n){return t("div",{key:n,staticClass:"operand",on:{click:function(t){e.currentOperand=n,e.editable=""}}},[e._v("\n        "+e._s(e.parseComparison(n))+"\n      ")])}))],2):t("div",{staticClass:"filter-select"},e._l(e.filterGroups,(function(n){return t("div",{key:n.name,staticClass:"filter-group"},[t("div",{staticClass:"filter-group__title"},[e._v(e._s(n.name))]),t("div",{staticClass:"filter-group-filters"},e._l(n.filters,(function(n){return t("div",{key:n.id,staticClass:"dialogue-filters__filter",on:{click:function(t){e.currentFilter=n,e.editable=""}}},[t("span",{staticClass:"filter__if"},[e._v("if ")]),t("span",{staticClass:"filter__function"},[e._v(e._s("Function"===n.name?n.filter_function:n.name)+" ")])])})),0)])})),0)])])},Qt=[],Ut=(n("7514"),{data:function(){return{currentFilter:{},currentOperand:"",currentValue:"",currentValueSecondary:"",inputValue:"",inputValueSecondary:"",editable:"",filterGroups:[{name:"Speaker filters:",filters:[{id:"speaker_id",name:"Speaker ID",operands:["Equal"],fields:["npc"]},{id:"speaker_cell",name:"Speaker Cell",operands:["Equal"],fields:["cell"]},{id:"speaker_class",name:"Speaker Class",operands:["Equal"],fields:["class"]},{id:"speaker_faction",name:"Speaker Faction",operands:["Equal"],fields:["faction"]},{id:"speaker_race",name:"Speaker Race",operands:["Equal"],fields:["race"]},{id:"speaker_rank",name:"Speaker Rank",operands:["Equal"],fields:["rank"]},{id:"speaker_sex",name:"Speaker Sex",operands:["Equal"],fields:["sex"]}]},{name:"Player filters:",filters:[{id:"player_faction",name:"Player Faction",operands:["Equal"],fields:["faction"]},{id:"player_rank",name:"Player Rank",operands:["Equal"],fields:["rank"]}]},{name:"Disposition:",filters:[{id:"disposition",name:"Disposition",operands:["Greater"],fields:["disposition"]}]},{name:"Functions:",filters:[{id:"function_journal",name:"Journal",filter_function:"JournalType",operands:["Less","LesserEqual","NotEqual","Equal","GreaterEqual","Greater"],fields:["journal_id","journal_disposition"]},{id:"function_item",name:"Item",filter_function:"ItemType",operands:["Less","LesserEqual","NotEqual","Equal","GreaterEqual","Greater"],fields:["item_id","item_amount"]},{id:"function_dead",name:"Dead",operands:["Less","LesserEqual","NotEqual","Equal","GreaterEqual","Greater"],filter_function:"DeadType",fields:["npc"]},{id:"function_choice",name:"Function",filter_function:"Choice",operands:["Less","LesserEqual","NotEqual","Equal","GreaterEqual","Greater"],fields:["choice"]}]},{name:"Variables:",filters:[{id:"function_global",name:"Global",filter_function:"VariableCompare",operands:["Less","LesserEqual","NotEqual","Equal","GreaterEqual","Greater"],fields:["global_dropdown","global_value"]},{id:"function_local",name:"Local",filter_function:"VariableCompare",operands:["Less","LesserEqual","NotEqual","Equal","GreaterEqual","Greater"],fields:["local_input","local_value"]}]},{name:"Not:",filters:[{id:"not_id",name:"NotId",filter_function:"NotIdType",operands:["Less","LesserEqual","NotEqual","Equal","GreaterEqual","Greater"],fields:["npc","value"]},{id:"not_cell",name:"NotCell",filter_function:"NotCell",operands:["Less","LesserEqual","NotEqual","Equal","GreaterEqual","Greater"],fields:["cell","value"]},{id:"not_class",name:"NotClass",filter_function:"NotClass",operands:["Less","LesserEqual","NotEqual","Equal","GreaterEqual","Greater"],fields:["class","value"]},{id:"not_faction",name:"NotFaction",filter_function:"NotFaction",operands:["Less","LesserEqual","NotEqual","Equal","GreaterEqual","Greater"],fields:["faction","value"]},{id:"not_race",name:"NotRace",filter_function:"NotRace",operands:["Less","LesserEqual","NotEqual","Equal","GreaterEqual","Greater"],fields:["race","value"]},{id:"not_local",name:"NotLocal",filter_function:"VariableCompare",operands:["Less","LesserEqual","NotEqual","Equal","GreaterEqual","Greater"],fields:["local","value"]}]}]}},methods:{createQuest:function(){this.$store.commit("setPrimaryModal","")},parseComparison:function(e){switch(e){case"Equal":return"==";case"GreaterEqual":return">=";case"LesserEqual":return"<=";case"Less":return"<";case"Greater":return">";case"NotEqual":return"!=";default:return e}}},computed:{getNpcs:function(){return this.inputValue?this.$store.getters["searchNpcs"](this.inputValue):[]},getSelectedFilter:function(){return this.$store.getters["getSelectedFilter"]}},beforeMount:function(){var e=this.getSelectedFilter;e.filter_type?(this.currentOperand=e.filter_comparison,this.currentFilter=this.filterGroups.map((function(e){return e.filters})).flat(1).find((function(t){return t&&t.name===e.filter_type})),this.currentValueSecondary=e.id,this.inputValueSecondary=e.id,this.currentValue=Object.values(e.value)[0],this.inputValue=Object.values(e.value)[0]):(this.currentOperand="",this.currentFilter={},this.currentValueSecondary="",this.inputValueSecondary="",this.currentValue="",this.inputValue="")}}),Wt=Ut,zt=(n("134b"),Object(u["a"])(Wt,Rt,Qt,!1,null,null,null)),Kt=zt.exports,Yt={data:function(){return{modalType:"",triggerFade:""}},methods:{hideModals:function(){this.$store.commit("setPrimaryModal","")}},computed:{getModal:function(){return this.$store.getters["getPrimaryModal"]}},watch:{getModal:function(){var e=Object(Mt["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,1)}));case 2:if(this.triggerFade=t,""!==t){e.next=6;break}return e.next=6,new Promise((function(e){return setTimeout(e,300)}));case 6:this.modalType=this.getModal;case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},components:{ModalContentUpload:Nt,ModalContentNewQuest:Lt,ModalContentNewDialogue:Bt,ModalContentNewFilter:Kt}},Zt=Yt,Xt=(n("c39a"),Object(u["a"])(Zt,wt,Tt,!1,null,"7adcb5bd",null)),en=Xt.exports,tn={name:"App",components:{ToolbarReadFile:p,JournalFrame:O,ToolBarOpen:D,ModalMain:G,BookFrame:X,CWorkspace:et,ModalContentDialogue:Pt,ModalFrame:en},computed:{getOpenModal:function(){return this.$store.getters["getOpenFile"]},getQuestCreateModal:function(){return this.$store.getters["getQuestCreateModal"]},getDialogueCreateModal:function(){return this.$store.getters["getDialogueCreateModal"]},getOpenModalDialogue:function(){return this.$store.getters["getDialogueModal"]}}},nn=tn,an=(n("acec"),Object(u["a"])(nn,a,r,!1,null,null,null)),rn=an.exports,sn=n("2f62"),on=(n("8e6e"),n("456d"),n("0d6d"),n("20d6"),n("ade3"));function ln(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function cn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ln(Object(n),!0).forEach((function(t){Object(on["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ln(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function un(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=dn(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){o=!0,r=e},f:function(){try{s||null==n.return||n.return()}finally{if(o)throw r}}}}function dn(e,t){if(e){if("string"===typeof e)return pn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pn(e,t):void 0}}function pn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var fn={activePlugin:[],parsedQuests:[],activeHeader:{},activePluginTitle:"",journalHighlight:{},dependencies:[]},_n={getParsedQuests:function(e){if(!e.activePlugin.length)return[];var t,n=[],i={id:"",name:"",nameId:"",nameNextId:"",entries:[]},a={id:"",name:"",nameId:"",nameNextId:"",entries:[]},r=un(e.activePlugin);try{for(r.s();!(t=r.n()).done;){var s=t.value;"Dialogue"===s.type&&"Journal"===s.TMP_type?(s.id!==a.id&&""!==a.id&&(n.push(a),a=JSON.parse(JSON.stringify(i))),a.id=s.id):"Journal"===s.TMP_type&&(1===s.quest_name?(a.name=s.text,a.nameId=s.info_id,a.nameNextId=s.next_id):a.entries.push(s))}}catch(o){r.e(o)}finally{r.f()}return a.id&&n.push(a),n},getActivePlugin:function(e){if(e.activePlugin.length)return e.activePlugin.filter((function(e){return"Header"===e.type}))[0].num_objects=e.activePlugin.length-1,e.activePlugin},getActiveHeader:function(e){return e.activePlugin.filter((function(e){return"Header"===e.type}))[0]},getJournalHighlight:function(e){return e.journalHighlight},getActivePluginTitle:function(e){return e.activePluginTitle},getAllNpcs:function(e){var t,n=[],i=un(e.dependencies);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.push.apply(n,Object(v["a"])(a.data.filter((function(e){return"Npc"===e.type}))))}}catch(d){i.e(d)}finally{i.f()}var r,s=[].concat(Object(v["a"])(e.activePlugin.filter((function(e){return"Npc"===e.type}))),n),o={},l=un(s);try{for(l.s();!(r=l.n()).done;){var c=r.value;o[c.id]=c}}catch(d){l.e(d)}finally{l.f()}var u=Object.values(o);return u},getAllTopics:function(e){var t,n=[],i=un(e.dependencies);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.push.apply(n,Object(v["a"])(a.data.filter((function(e){return"Topic"===e.TMP_type&&"Dialogue"===e.type}))))}}catch(d){i.e(d)}finally{i.f()}var r,s=[].concat(Object(v["a"])(e.activePlugin.filter((function(e){return"Topic"===e.TMP_type&&"Dialogue"===e.type}))),n),o={},l=un(s);try{for(l.s();!(r=l.n()).done;){var c=r.value;o[c.id]=c}}catch(d){l.e(d)}finally{l.f()}var u=Object.values(o);return u},getOrderedEntriesByTopic:function(e){return function(t){var n=Object(He["a"])(t,1),i=n[0];if(!i)return[];var a,r=[],s=un(e.dependencies);try{for(s.s();!(a=s.n()).done;){var o=a.value;r.push(o.data.filter((function(e){return"Info"===e.type})).filter((function(e){return e.TMP_topic==i})))}}catch(h){s.e(h)}finally{s.f()}var l=JSON.parse(JSON.stringify(e.activePlugin));r.push(l.filter((function(e){return"Info"===e.type})).filter((function(e){return e.TMP_topic==i}))),r=r.filter((function(e){return e}));var c=function(e,t){var n=r.map((function(n){return n.filter((function(n){return n[e]===t}))})).flat(1);if(!n.length)return!1;var i=n.slice(-1)[0],a=r.map((function(e){return e.filter((function(e){return e.info_id===i.info_id}))})).flat(1);return cn(cn({},i),{},{old_values:a.length>1?a.filter((function(e){return e&&e.TMP_dep})):[]})},u=c("prev_id","");if(!u)return{error_code:"NO_PREV_ID",error_text:"Ordering error! No elements with defined 'prev_id'. Make sure you uploaded all dependencies.",error_details:{}};var d,p,f=[u];while(1){p=Object(v["a"])(new Set([c("prev_id",f.slice(-1)[0].info_id),c("info_id",f.slice(-1)[0].next_id)]));var _,g=un(e.dependencies);try{var m=function(){var e=_.value;p.find((function(t){return t.TMP_dep===e.name}))&&(d=p.find((function(t){return t.TMP_dep===e.name})))};for(g.s();!(_=g.n()).done;)m()}catch(h){g.e(h)}finally{g.f()}if(p.find((function(e){return!e.TMP_dep}))&&(d=p.find((function(e){return!e.TMP_dep}))),!d)break;if(f.push(d),!d.next_id)break}return f}},getBestOrderLocationForNpc:function(e,t){return function(e){var n=Object(He["a"])(e,3),i=n[0],a=n[1],r=n[2],s=t.getOrderedEntriesByTopic([a,r]);if(s.length){if(s.filter((function(e){return e.speaker_id===i})).length)return[s.filter((function(e){return e.speaker_id===i})).slice(-1)[0].info_id,s.filter((function(e){return e.speaker_id===i})).slice(-1)[0].next_id];var o=s.filter((function(e){return""!=e.speaker_id}));return o.length>1&&(o=o.slice(0,Math.ceil(o.length/2))),o=o[Math.floor(Math.random()*Array.length)],[o.info_id,o.next_id]}return["",""]}},getNpcById:function(e,t){return function(e){var n=t.getAllNpcs.filter((function(t){return t.id===e}));return n.length?n[0]:{}}},searchNpcs:function(e,t){return function(e){return t.getAllNpcs.filter((function(t){return t.id.toUpperCase().trim().includes(e.toUpperCase().trim())||t.name.toUpperCase().trim().includes(e.toUpperCase().trim())}))}},searchTopics:function(e,t){return function(e){return t.getAllTopics.filter((function(t){return t.id.toUpperCase().includes(e.toUpperCase())}))}},getDialogueSpeaker:function(e){return function(t){var n,i=[],a=un(t);try{var r=function(){for(var t=n.value,a=["Topic","Greeting","Persuasion"],r=function(){var n=o[s];e.activePlugin.filter((function(e){return e.TMP_type===n})).length&&(i=[].concat(Object(v["a"])(i),Object(v["a"])(e.activePlugin.filter((function(e){return e.TMP_type===n})).map((function(e){return e[t]})).filter((function(e){return e})))),i=Object(v["a"])(new Set(i)))},s=0,o=a;s<o.length;s++)r()};for(a.s();!(n=a.n()).done;)r()}catch(s){a.e(s)}finally{a.f()}return i}},getDialogueBySpeaker:function(e){return function(t){var n=Object(He["a"])(t,2),i=n[0],a=n[1],r=[];if("Global Dialogue"===i){var s,o=un(e.dependencies);try{for(o.s();!(s=o.n()).done;){var l=s.value;r=[].concat(Object(v["a"])(r),Object(v["a"])(l.data.filter((function(e){return e.TMP_type===a&&"Info"===e.type})).filter((function(e){return!e["speaker_id"]&&!e["speaker_cell"]&&!e["speaker_faction"]&&!e["speaker_class"]&&!e["speaker_rank"]}))))}}catch(_){o.e(_)}finally{o.f()}var c=e.activePlugin.filter((function(e){return e.TMP_type===a&&"Info"===e.type})).filter((function(e){return!e["speaker_id"]&&!e["speaker_cell"]&&!e["speaker_faction"]&&!e["speaker_class"]&&!e["speaker_rank"]}));return[].concat(Object(v["a"])(r),Object(v["a"])(c))}var u,d=un(e.dependencies);try{for(d.s();!(u=d.n()).done;){var p=u.value;r=[].concat(Object(v["a"])(r),Object(v["a"])(p.data.filter((function(e){return e.TMP_type===a&&"Info"===e.type})).filter((function(e){return[e["speaker_id"],e["speaker_cell"],e["speaker_faction"],e["speaker_class"],e["speaker_rank"]].includes(i)}))))}}catch(_){d.e(_)}finally{d.f()}var f=e.activePlugin.filter((function(e){return e.TMP_type===a&&"Info"===e.type})).filter((function(e){return[e["speaker_id"],e["speaker_cell"],e["speaker_faction"],e["speaker_class"],e["speaker_rank"]].includes(i)}));return[].concat(Object(v["a"])(r),Object(v["a"])(f))}}},gn={parseLocalPlugin:function(e,t){var n=e.commit,i=Object(He["a"])(t,1),a=i[0];n("resetActivePlugin"),n("parsePluginData",a)},parseDependency:function(e,t){var n=e.commit,i=Object(He["a"])(t,2),a=i[0],r=i[1];n("setDependencies",[a,r])}},mn={setActiveHeader:function(e,t){e.activeHeader=t},addDialogue:function(e,t){var n=Object(He["a"])(t,6),i=n[0],a=n[1],r=n[2],s=n[3],o=n[4],l=n[5],c=Math.random().toString().slice(2,15)+Math.random().toString().slice(2,9),u={dialogue_type:"Topic",flags:[0,0],id:a,type:"Dialogue",TMP_topic:a,TMP_type:r},d=e.activePlugin.filter((function(e){return e.TMP_type===r})).filter((function(e){return e.TMP_topic===a}));d.length||(e.activePlugin=[].concat(Object(v["a"])(e.activePlugin),[u]));var p=null;d.length&&d[0].info_id&&(lastId=d[0].info_id,p=e.activePlugin.findIndex((function(e){return e.info_id===lastId})));var f={data:{dialogue_type:"Topic",disposition:0,player_rank:-1,speaker_rank:-1,speaker_sex:"Any"},filters:[],flags:[0,0],info_id:c,next_id:o,prev_id:s,speaker_id:i,text:l,type:"Info",TMP_topic:a,TMP_type:r};e.activePlugin.filter((function(e){return e.TMP_type===r})).filter((function(e){return e.TMP_topic===a})).filter((function(e){return e.info_id===s})).length&&(e.activePlugin.filter((function(e){return e.TMP_type===r})).filter((function(e){return e.TMP_topic===a})).filter((function(e){return e.info_id===s}))[0].next_id=c),e.activePlugin.filter((function(e){return e.TMP_type===r})).filter((function(e){return e.TMP_topic===a})).filter((function(e){return e.info_id===o})).length&&(e.activePlugin.filter((function(e){return e.TMP_type===r})).filter((function(e){return e.TMP_topic===a})).filter((function(e){return e.info_id===o}))[0].prev_id=c),p?e.activePlugin.splice(p+1,0,f):e.activePlugin=[].concat(Object(v["a"])(e.activePlugin),[f])},deleteDialogueEntry:function(e,t){var n=e.activePlugin.find((function(e){return"Info"===e.type&&e.info_id===t})).prev_id,i=e.activePlugin.find((function(e){return"Info"===e.type&&e.info_id===t})).next_id;e.activePlugin.find((function(e){return e.info_id===n}))&&(e.activePlugin.find((function(e){return e.info_id===n})).next_id=i),e.activePlugin.find((function(e){return e.info_id===i}))&&(e.activePlugin.find((function(e){return e.info_id===i})).prev_id=n),e.activePlugin=e.activePlugin.filter((function(e){return e.info_id!==t}))},editDialogueEntry:function(e,t){var n=Object(He["a"])(t,2),i=n[0],a=n[1];e.activePlugin.find((function(e){return"Info"===e.type&&e.info_id===i})).text=a},addJournalQuest:function(e,t){var n=Object(He["a"])(t,2),i=n[0],a=n[1],r=Math.random().toString().slice(2,15)+Math.random().toString().slice(2,9),s={type:"Dialogue",flags:[0,0],id:i,dialogue_type:"Journal",TMP_topic:i,TMP_type:"Journal"},o={type:"Info",flags:[0,0],info_id:r,prev_id:"",next_id:"",data:{dialogue_type:"Journal",disposition:0,speaker_rank:-1,speaker_sex:"Any",player_rank:-1},text:a,quest_name:1,filters:[],TMP_topic:i,TMP_type:"Journal"};e.activePlugin=[].concat(Object(v["a"])(e.activePlugin),[s]),e.activePlugin=[].concat(Object(v["a"])(e.activePlugin),[o])},addJournalEntry:function(e,t){var n=Object(He["a"])(t,3),i=n[0],a=n[1],r=n[2],s=Math.random().toString().slice(2,15)+Math.random().toString().slice(2,9),o=e.activePlugin.filter((function(e){return"Journal"===e.TMP_type})).filter((function(e){return e.TMP_topic===i})).filter((function(e){return""===e.next_id})),l="",c=null;o.length&&o[0].info_id&&(l=o[0].info_id,c=e.activePlugin.findIndex((function(e){return e.info_id===l})),e.activePlugin.filter((function(e){return e.info_id===l}))[0].next_id=s);var u={TMP_topic:i,TMP_type:"Journal",type:"Info",flags:[0,0],info_id:s,prev_id:l,next_id:"",data:{dialogue_type:"Journal",disposition:parseInt(r),speaker_rank:-1,speaker_sex:"Any",player_rank:-1},text:a,filters:[]};c?e.activePlugin.splice(c+1,0,u):e.activePlugin=[].concat(Object(v["a"])(e.activePlugin),[u])},deleteJournalEntry:function(e,t){var n=e.activePlugin.filter((function(e){return e.info_id===t}));if(n.length){var i=n[0].next_id,a=n[0].prev_id;e.activePlugin=e.activePlugin.filter((function(e){return e.info_id!==t}));var r=e.activePlugin.filter((function(e){return e.info_id===i}));r.length&&(e.activePlugin.filter((function(e){return e.info_id===i}))[0].prev_id=a);var s=e.activePlugin.filter((function(e){return e.info_id===a}));s.length&&(e.activePlugin.filter((function(e){return e.info_id===a}))[0].next_id=i)}},editJournalEntry:function(e,t){var n=Object(He["a"])(t,4),i=n[0],a=n[1],r=n[2],s=n[3],o=e.activePlugin.filter((function(e){return e.info_id===i}));o.length&&(e.activePlugin.filter((function(e){return e.info_id===i}))[0].text=a,e.activePlugin.filter((function(e){return e.info_id===i}))[0].data.disposition=parseInt(r),s&&(e.activePlugin.filter((function(e){return e.info_id===i}))[0].quest_finish=1),!s&&e.activePlugin.filter((function(e){return e.info_id===i}))[0].quest_finish&&delete e.activePlugin.filter((function(e){return e.info_id===i}))[0]["quest_finish"])},setActivePluginTitle:function(e,t){e.activePluginTitle=t},setJournalHighlight:function(e,t){e.journalHighlight=t},resetActivePlugin:function(e){e.activePlugin=[]},addEntryToActive:function(e,t){e.activePlugin=[].concat(Object(v["a"])(e.activePlugin),[t])},parsePluginData:function(e,t){var n,i;for(var a in e.activePlugin=t,e.activePlugin)if(["Info","Dialogue"].includes(e.activePlugin[a].type)){"Dialogue"===e.activePlugin[a].type&&(n=e.activePlugin[a].dialogue_type),e.activePlugin[a].id&&(i=e.activePlugin[a].id);var r=cn(cn({},e.activePlugin[a]),{},{TMP_topic:i,TMP_type:n});e.activePlugin[a]=r}},setDependencies:function(e,t){var n,i,a,r=Object(He["a"])(t,2),s=r[0],o=r[1],l=[],c=un(s);try{for(c.s();!(a=c.n()).done;){var u=a.value;if(u=cn(cn({},u),{},{TMP_dep:o}),["Info","Dialogue"].includes(u.type)){"Dialogue"===u.type&&(n=u.dialogue_type),u.id&&(i=u.id);var d=cn(cn({},u),{},{TMP_topic:i,TMP_type:n});l.push(Object.freeze(d))}else["Faction","Book","Npc","Header"].includes(u.type)&&l.push(Object.freeze(u))}}catch(p){c.e(p)}finally{c.f()}e.dependencies.push({name:o,data:l})},addToActiveArray:function(e,t){var n=Object(He["a"])(t,2),i=n[0],a=n[1];e.activePlugin[i]?e.activePlugin[i]=[].concat(Object(v["a"])(e.activePlugin[i]),[a]):e.activePlugin[i]=[a]}},vn={state:fn,getters:_n,actions:gn,mutations:mn},hn={openFile:!1,dialogueModal:"",questCreateModal:!1,dialogueCreateModal:null,selectedFilter:{},primaryModal:""},yn={setPrimaryModal:function(e,t){e.primaryModal=t},toggleOpenFile:function(e,t){e.openFile=t},hideOpenFile:function(e){e.openFile=!1},hideDialogue:function(e){e.dialogueModal=""},setDialogueModal:function(e,t){e.dialogueModal=t},setQuestCreateModal:function(e,t){e.questCreateModal=t},setSelectedFilter:function(e,t){e.selectedFilter=t},setDialogueCreateModal:function(e,t){e.dialogueCreateModal=t},hideQuestCreateModal:function(e){e.questCreateModal=!1},hideDialogueCreateModal:function(e){e.dialogueCreateModal=!1}},bn={},Cn={getOpenFile:function(e){return e.openFile},getDialogueModal:function(e){return e.dialogueModal},getQuestCreateModal:function(e){return e.questCreateModal},getDialogueCreateModal:function(e){return e.dialogueCreateModal},getPrimaryModal:function(e){return e.primaryModal},getSelectedFilter:function(e){return e.selectedFilter}},kn={state:hn,getters:Cn,actions:bn,mutations:yn},Pn={sidebarActive:""},wn={toggleSidebarActive:function(e,t){e.sidebarActive===t?e.sidebarActive="":e.sidebarActive=t},setSidebarActive:function(e,t){e.sidebarActive=t}},Tn={},Mn={getSidebarActive:function(e){return e.sidebarActive}},On={state:Pn,getters:Mn,actions:Tn,mutations:wn};i["a"].use(sn["a"]);var Sn=new sn["a"].Store({modules:{plugin:vn,modals:kn,sidebar:On}});n("278f");i["a"].config.productionTip=!1,i["a"].component("v-icon",y["a"]),i["a"].component("vue-draggable-resizable",A.a),new i["a"]({store:Sn,render:function(e){return e(rn)}}).$mount("#app")},"58dc":function(e,t,n){e.exports=n.p+"img/argonian-m.164dd85c.png"},"5b6f":function(e,t,n){},"5ec4":function(e,t,n){},"5fae":function(e,t,n){},"60cd":function(e,t,n){e.exports=n.p+"img/breton-f.a2cc9334.png"},6505:function(e,t,n){e.exports=n.p+"img/altmer-f.d2d4b15c.png"},6608:function(e,t,n){"use strict";n("f7fd")},"6dee":function(e,t,n){},"718a":function(e,t,n){"use strict";n("4051")},"80fa":function(e,t,n){"use strict";n("43e4")},"81bc":function(e,t,n){},"8e22":function(e,t,n){"use strict";n("a0c0")},"8e5f":function(e,t,n){e.exports=n.p+"img/orc-m.d3bc10ef.png"},"8eab":function(e,t,n){"use strict";n("5ec4")},9582:function(e,t,n){},"96ab":function(e,t,n){"use strict";n("41b2")},9840:function(e,t,n){},"9a7e":function(e,t,n){},a0c0:function(e,t,n){},a372:function(e,t,n){"use strict";n("40a2")},acec:function(e,t,n){"use strict";n("401d")},b331:function(e,t,n){e.exports=n.p+"img/khajiit-f.840ceaf7.png"},b38f:function(e,t,n){"use strict";n("fb71")},b77a:function(e,t,n){e.exports=n.p+"img/imperial-m.0ecf55d9.png"},c39a:function(e,t,n){"use strict";n("81bc")},c8ac:function(e,t,n){e.exports=n.p+"img/nord-m.d0ab0fdd.png"},c93e:function(e,t,n){},c9ba:function(e,t,n){e.exports=n.p+"img/nord-f.3d27f02a.png"},d239:function(e,t,n){},d47a:function(e,t,n){"use strict";n("2be0")},d63d:function(e,t,n){e.exports=n.p+"img/imperial-f.02c2bd29.png"},ddeb:function(e,t,n){"use strict";n("d239")},de42:function(e,t,n){"use strict";n("5fae")},e0bc:function(e,t,n){},edab:function(e,t,n){"use strict";n("9a7e")},f5f2:function(e,t,n){e.exports=n.p+"img/dunmer-f.a6674ab9.png"},f7fd:function(e,t,n){},fa44:function(e,t,n){e.exports=n.p+"img/khajiit-m.1361140a.png"},fb71:function(e,t,n){},fc17:function(e,t,n){var i={"./altmer-f.png":"6505","./altmer-m.png":"0949","./argonian-f.png":"30fe","./argonian-m.png":"58dc","./bosmer-f.png":"3acb","./bosmer-m.png":"ffcd","./breton-f.png":"60cd","./breton-m.png":"10e0","./dunmer-f.png":"f5f2","./dunmer-m.png":"1b25","./imperial-f.png":"d63d","./imperial-m.png":"b77a","./khajiit-f.png":"b331","./khajiit-m.png":"fa44","./nord-f.png":"c9ba","./nord-m.png":"c8ac","./orc-f.png":"282c","./orc-m.png":"8e5f","./redguard-f.png":"317e","./redguard-m.png":"4f65"};function a(e){var t=r(e);return n(t)}function r(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}a.keys=function(){return Object.keys(i)},a.resolve=r,e.exports=a,a.id="fc17"},ffcd:function(e,t,n){e.exports=n.p+"img/bosmer-m.37cf5b1b.png"},fffd:function(e,t,n){}});
//# sourceMappingURL=app.f344e000.js.map